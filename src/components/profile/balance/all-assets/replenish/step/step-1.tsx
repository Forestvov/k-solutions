// @ts-nocheck
/* eslint-disable */
import type { FC } from 'react';
import Box from '@mui/material/Box';
import Stack from '@mui/material/Stack';
import { Controller, useFormContext } from 'react-hook-form';
import { useTranslation } from 'react-i18next';

import type { FormState } from '../types';

import TitleStep from './title-step';
import DefaultForm from './default-form';
import Select from '@mui/material/Select';
import styled from '@emotion/styled';
import MenuItem from '@mui/material/MenuItem';
import P2PForm from 'components/profile/balance/all-assets/replenish/step/p2p-form';

interface Props {
    onNext?: VoidFunction;
    transactionType?: 'In' | 'Out';
}

const Item = styled(MenuItem)`
    display: flex;
    align-items: center;
    padding: 10px 20px;
    text-transform: uppercase;
`;

const BoxImage = styled.div`
    display: flex;
    justify-content: center;
    align-items: center;
    width: 30px;
    height: 30px;
    margin-right: 10px;
    flex: 0 0 auto;

    img {
        width: 100%;
        height: auto;
    }
`;

const TypeTransaction = [
    {
        image: "data:image/svg+xml,%3Csvg width='50' height='50' viewBox='0 0 50 50' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Ccircle cx='25' cy='25' r='25' fill='%23006838'/%3E%3Cg clip-path='url(%23clip0_1378_8157)'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M12 28.6792L17.334 31.7597V37.9204L12 34.8399V28.6792ZM18.8868 17.0162L24.2236 20.0963V25.7458L18.8868 22.6653V17.0162ZM31.1132 37.9203L25.7737 34.8374V34.5615C25.7737 34.532 25.7764 34.5028 25.7764 34.4738V28.6796L31.1132 31.7598V37.9203ZM25.7764 20.0961L31.1132 17.0162V22.6653L25.7764 25.7458V20.0963V20.0961ZM24.2264 34.8374L18.8868 37.9203V31.7596L24.2236 28.6794V34.4736C24.2236 34.5026 24.2264 34.5318 24.2264 34.5613V34.8372V34.8374ZM32.6662 37.9205V31.7597L38 28.6792V34.8399L32.6661 37.9205H32.6662ZM37.2236 27.3337L31.6783 24.1323L26.3445 27.2127L31.8898 30.4142L37.2236 27.3337ZM25 12.0791L19.2205 15.4148L25 18.7508L30.7763 15.4148L25 12.0791ZM18.3219 24.1323L12.7765 27.3337L18.1104 30.4142L23.6557 27.2127L18.3219 24.1323Z' fill='white'/%3E%3C/g%3E%3Cdefs%3E%3CclipPath id='clip0_1378_8157'%3E%3Crect width='26' height='26' fill='white' transform='translate(12 12)'/%3E%3C/clipPath%3E%3C/defs%3E%3C/svg%3E%0A",
        value: 'Token',
    },
    {
        image: "data:image/svg+xml,%3Csvg width='50' height='50' viewBox='0 0 50 50' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Ccircle cx='25' cy='25' r='25' fill='%23006838'/%3E%3Cpath d='M34.375 16.375C34 16.25 33.5 16.25 33.125 16.25H16.875C16.25 16.25 15.625 16.375 15 16.625C14.5 16.875 14.125 17.25 13.75 17.625V16.875C13.75 15.125 15.125 13.75 16.875 13.75H31.25C32.875 13.75 34.125 14.875 34.375 16.375ZM31.875 25C31.125 25 30.625 25.5 30.625 26.25C30.625 27 31.125 27.5 31.875 27.5H36.25V25H31.875ZM31.875 26.875C31.5 26.875 31.25 26.625 31.25 26.25C31.25 25.875 31.5 25.625 31.875 25.625C32.25 25.625 32.5 25.875 32.5 26.25C32.5 26.625 32.25 26.875 31.875 26.875ZM22.5 24.375C21.625 24.375 21 24.875 20.75 25.625H24.25C24 24.875 23.375 24.375 22.5 24.375Z' fill='white'/%3E%3Cpath d='M22.5 21.875C20.125 21.875 18.125 23.875 18.125 26.25C18.125 28.625 20.125 30.625 22.5 30.625C24.875 30.625 26.875 28.625 26.875 26.25C26.875 23.875 24.875 21.875 22.5 21.875ZM25 26.875H20.75C21 27.625 21.75 28.125 22.5 28.125C23 28.125 23.375 28 23.75 27.625C24 27.375 24.375 27.375 24.625 27.625C24.875 27.875 24.875 28.25 24.625 28.5C24 29 23.375 29.25 22.5 29.25C20.75 29.25 19.375 27.875 19.375 26.125C19.375 24.375 20.75 23 22.5 23C24.25 23 25.625 24.375 25.625 26.125C25.625 26.625 25.375 26.875 25 26.875Z' fill='white'/%3E%3Cpath d='M31.875 23.75H36.25V20.625C36.25 18.875 34.875 17.5 33.125 17.5H16.875C15.125 17.5 13.75 18.875 13.75 20.625V31.875C13.75 33.625 15.125 35 16.875 35H33.125C34.875 35 36.25 33.625 36.25 31.875V28.75H31.875C30.5 28.75 29.375 27.625 29.375 26.25C29.375 24.875 30.5 23.75 31.875 23.75ZM22.5 31.875C19.375 31.875 16.875 29.375 16.875 26.25C16.875 23.125 19.375 20.625 22.5 20.625C25.625 20.625 28.125 23.125 28.125 26.25C28.125 29.375 25.625 31.875 22.5 31.875Z' fill='white'/%3E%3C/svg%3E%0A",
        value: 'Wallet',
    },
    {
        image: "data:image/svg+xml,%3Csvg width='50' height='50' viewBox='0 0 50 50' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Ccircle cx='25' cy='25' r='25' fill='%23006838'/%3E%3Cg clip-path='url(%23clip0_1378_8175)'%3E%3Cpath d='M12.131 36.6852C12.1985 36.7823 12.2884 36.8617 12.3931 36.9165C12.4979 36.9713 12.6143 36.9999 12.7325 36.9999H36.2675C36.5078 36.9999 36.7323 36.8819 36.869 36.6852C36.9366 36.5881 36.9796 36.4759 36.9943 36.3584C37.009 36.2409 36.995 36.1216 36.9534 36.0108C36.668 35.2476 36.1344 34.5781 35.9177 34.3264C35.8491 34.2461 35.7638 34.1816 35.6679 34.1374C35.5719 34.0932 35.4676 34.0703 35.3619 34.0703H13.6381C13.4242 34.0703 13.2211 34.164 13.0823 34.3264C12.8656 34.5781 12.332 35.2476 12.0466 36.0108C12.005 36.1216 11.991 36.2409 12.0057 36.3584C12.0204 36.4759 12.0634 36.5881 12.131 36.6852ZM14.9297 23.7675H19.3731V32.6054H14.9297V23.7675ZM22.3027 23.7675H26.6973V32.6054H22.3027V23.7675ZM29.6269 23.7675H34.0703V32.6054H29.6269V23.7675ZM13.5853 22.0871C13.7228 22.2251 13.9142 22.3028 14.1034 22.3028L14.1038 22.3027C14.1039 22.3027 14.104 22.3028 14.1041 22.3023H34.8959C34.896 22.3028 34.8961 22.3027 34.8962 22.3027L34.8966 22.3028C35.0858 22.3028 35.2772 22.2252 35.4147 22.0871C35.5637 21.9381 36.6775 20.7781 36.9999 19.3731H12C12.3225 20.7781 13.4362 21.9381 13.5853 22.0871ZM36.5338 17.9082L24.8276 12.0772C24.7259 12.0264 24.6137 12 24.5 12C24.3863 12 24.2741 12.0264 24.1724 12.0772L12.4662 17.9082H36.5338Z' fill='white'/%3E%3C/g%3E%3Cdefs%3E%3CclipPath id='clip0_1378_8175'%3E%3Crect width='25' height='25' fill='white' transform='translate(12 12)'/%3E%3C/clipPath%3E%3C/defs%3E%3C/svg%3E%0A",
        value: 'Bank',
    },
    {
        image: "data:image/svg+xml,%3Csvg width='30' height='30' viewBox='0 0 30 30' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Ccircle cx='15' cy='15' r='15' fill='%23006838'/%3E%3Cpath d='M5.46875 18.5001V11.2274H8.60795C9.14773 11.2274 9.62003 11.3339 10.0249 11.547C10.4297 11.76 10.7446 12.0595 10.9695 12.4454C11.1944 12.8313 11.3068 13.2823 11.3068 13.7984C11.3068 14.3192 11.1908 14.7702 10.9588 15.1514C10.7292 15.5325 10.406 15.8261 9.98935 16.032C9.57505 16.238 9.09091 16.341 8.53693 16.341H6.66193V14.8069H8.1392C8.37121 14.8069 8.56889 14.7667 8.73224 14.6862C8.89796 14.6033 9.02462 14.4861 9.11222 14.3346C9.20218 14.1831 9.24716 14.0044 9.24716 13.7984C9.24716 13.5901 9.20218 13.4125 9.11222 13.2657C9.02462 13.1166 8.89796 13.0029 8.73224 12.9248C8.56889 12.8443 8.37121 12.8041 8.1392 12.8041H7.44318V18.5001H5.46875Z' fill='white'/%3E%3Cpath d='M12.0455 18.5001V17.0796L14.7585 14.8353C14.9384 14.6862 15.0923 14.5465 15.2202 14.4163C15.3504 14.2837 15.4498 14.1476 15.5185 14.0079C15.5895 13.8682 15.625 13.7132 15.625 13.5427C15.625 13.3557 15.5848 13.1959 15.5043 13.0633C15.4261 12.9307 15.3172 12.8289 15.1776 12.7579C15.0379 12.6845 14.8769 12.6478 14.6946 12.6478C14.5123 12.6478 14.3513 12.6845 14.2116 12.7579C14.0743 12.8313 13.9678 12.939 13.892 13.0811C13.8163 13.2231 13.7784 13.3959 13.7784 13.5995H11.9034C11.9034 13.0882 12.0182 12.6478 12.2479 12.2785C12.4775 11.9092 12.8018 11.6251 13.2209 11.4262C13.6399 11.2274 14.1312 11.1279 14.6946 11.1279C15.277 11.1279 15.7813 11.2214 16.2074 11.4085C16.6359 11.5931 16.9661 11.8535 17.1982 12.1897C17.4325 12.5259 17.5497 12.9201 17.5497 13.3722C17.5497 13.6516 17.4917 13.9298 17.3757 14.2068C17.2597 14.4814 17.0514 14.7856 16.7507 15.1194C16.45 15.4532 16.0227 15.8509 15.4688 16.3126L14.7869 16.8808V16.9234H17.6278V18.5001H12.0455Z' fill='white'/%3E%3Cpath d='M18.4961 18.5001V11.2274H21.6353C22.1751 11.2274 22.6474 11.3339 23.0522 11.547C23.457 11.76 23.7719 12.0595 23.9968 12.4454C24.2217 12.8313 24.3342 13.2823 24.3342 13.7984C24.3342 14.3192 24.2182 14.7702 23.9862 15.1514C23.7565 15.5325 23.4334 15.8261 23.0167 16.032C22.6024 16.238 22.1183 16.341 21.5643 16.341H19.6893V14.8069H21.1665C21.3986 14.8069 21.5962 14.7667 21.7596 14.6862C21.9253 14.6033 22.052 14.4861 22.1396 14.3346C22.2295 14.1831 22.2745 14.0044 22.2745 13.7984C22.2745 13.5901 22.2295 13.4125 22.1396 13.2657C22.052 13.1166 21.9253 13.0029 21.7596 12.9248C21.5962 12.8443 21.3986 12.8041 21.1665 12.8041H20.4705V18.5001H18.4961Z' fill='white'/%3E%3C/svg%3E%0A",
        value: 'p2p',
    },
    {
        image: "data:image/svg+xml,%3Csvg width='30' height='27' viewBox='0 0 30 27' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11.3908 0.170391L7.46379 9.54106H4.90066L2.96953 2.0635C2.85064 1.60236 2.74904 1.43455 2.39256 1.23873C1.80861 0.923028 0.848086 0.626894 0 0.442441L0.0593555 0.170449H4.18313C4.70906 0.170449 5.18191 0.52125 5.3008 1.126L6.32191 6.54955L8.84402 0.170449L11.3908 0.170391ZM21.4306 6.48024C21.442 4.0084 18.0103 3.87387 18.035 2.76803C18.0417 2.43047 18.3616 2.07328 19.0622 1.98311C19.4102 1.93682 20.3677 1.90289 21.4529 2.40111L21.8782 0.414902C21.2943 0.202968 20.5438 0 19.611 0C17.2151 0 15.5285 1.27436 15.5143 3.09773C15.4986 4.44609 16.7176 5.19855 17.6371 5.64762C18.5813 6.10711 18.897 6.40049 18.8937 6.81258C18.8875 7.44152 18.1403 7.71639 17.4434 7.72875C16.2244 7.74774 15.5173 7.39934 14.9527 7.13637L14.5138 9.19084C15.0794 9.45053 16.1266 9.676 17.2103 9.6893C19.7568 9.68918 21.4226 8.42842 21.4306 6.48024ZM27.7575 9.54111H30L28.0433 0.170449H25.9731C25.5079 0.170449 25.1157 0.441739 24.941 0.857344L21.3057 9.54111H23.8502L24.3553 8.14166H27.4655L27.7575 9.54111ZM25.0526 6.22102L26.3291 2.70246L27.0635 6.22102H25.0526ZM14.855 0.170391L12.8493 9.54106H10.4248L12.4309 0.170391H14.855Z' fill='%231A2ADF'/%3E%3Cpath d='M11.4312 26.0246C14.5614 26.0246 17.0988 23.4871 17.0988 20.357C17.0988 17.2269 14.5614 14.6895 11.4312 14.6895C8.30113 14.6895 5.76367 17.2269 5.76367 20.357C5.76367 23.4871 8.30113 26.0246 11.4312 26.0246Z' fill='%23FF6041'/%3E%3Cpath d='M18.5699 26.0246C21.7 26.0246 24.2375 23.4871 24.2375 20.357C24.2375 17.2269 21.7 14.6895 18.5699 14.6895C15.4398 14.6895 12.9023 17.2269 12.9023 20.357C12.9023 23.4871 15.4398 26.0246 18.5699 26.0246Z' fill='%23FFD941'/%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M15.0027 15.9975C15.657 16.5262 16.1847 17.1945 16.5472 17.9536C16.9097 18.7127 17.0979 19.5432 17.0979 20.3844C17.0979 21.2256 16.9097 22.0561 16.5472 22.8152C16.1847 23.5742 15.657 24.2426 15.0027 24.7713C14.3436 24.2428 13.8116 23.573 13.446 22.8113C13.0804 22.0497 12.8906 21.2156 12.8906 20.3708C12.8906 19.5259 13.0804 18.6918 13.446 17.9302C13.8116 17.1685 14.3436 16.526 15.0027 15.9975Z' fill='%23FFD941'/%3E%3Cmask id='mask0_345_15516' style='mask-type:luminance' maskUnits='userSpaceOnUse' x='12' y='15' width='6' height='10'%3E%3Cpath d='M15.0047 15.9975C15.6589 16.5262 16.1866 17.1945 16.5492 17.9536C16.9117 18.7127 17.0998 19.5432 17.0998 20.3844C17.0998 21.2256 16.9117 22.0561 16.5492 22.8152C16.1866 23.5742 15.6589 24.2426 15.0047 24.7713C14.3455 24.2428 13.8135 23.573 13.4479 22.8113C13.0824 22.0497 12.8926 21.2156 12.8926 20.3708C12.8926 19.5259 13.0824 18.6918 13.4479 17.9302C13.8135 17.1685 14.3455 16.526 15.0047 15.9975Z' fill='white'/%3E%3C/mask%3E%3Cg mask='url(%23mask0_345_15516)'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M11.8711 17.0869H18.6286V17.8226H11.8711V17.0869ZM11.8711 18.5311H18.6286V19.2668H11.8711V18.5311ZM11.8711 20.0024H18.6286V20.7381H11.8711V20.0024ZM11.8711 21.4466H18.6286V22.1823H11.8711V21.4466ZM11.8711 22.8907H18.6286V23.6264H11.8711V22.8907Z' fill='%23FF6041'/%3E%3C/g%3E%3C/svg%3E%0A",
        value: 'Visa',
    },
];

const Step1: FC<Props> = ({ onNext, transactionType }) => {
    const { t } = useTranslation('personal');

    const { watch, control } = useFormContext<FormState>();

    const values = watch();

    return (
        <Box>
            <TitleStep>{t('Выберите Платежную Систему')}</TitleStep>
            <Box
                sx={{
                    width: {
                        sm: '450px',
                        xs: '100%',
                    },
                    margin: '30px auto 0',
                }}
            >
                <Stack spacing="30px">
                    <Controller
                        render={({ field: { value, onChange }, fieldState: { error } }) => (
                            <Select
                                variant="outlined"
                                sx={{
                                    width: '100%',
                                    height: {
                                        sm: '66px',
                                        xs: '60px',
                                    },
                                    outline: 'none',
                                    border: error ? '1px solid #FF5630 ' : '1px solid #20836D',
                                    borderRadius: '10px',
                                    fontSize: '16px',
                                    paddingLeft: '22px',
                                    paddingRight: '22px',
                                    color: '#838383',
                                    '.MuiSelect-select': {
                                        display: 'flex',
                                        alignItems: 'center',
                                        paddingLeft: 0,
                                    },
                                    '.MuiSelect-icon': {
                                        color: '#838383 !important',
                                    },
                                    '.MuiOutlinedInput-input': {
                                        textTransform: 'uppercase',
                                    },
                                    '.MuiOutlinedInput-notchedOutline': {
                                        border: 'none',
                                    },
                                    '& .MuiSvgIcon-root': {
                                        color: 'white',
                                    },
                                }}
                                IconComponent={() => (
                                    <svg
                                        width="20"
                                        height="11"
                                        viewBox="0 0 20 11"
                                        fill="none"
                                        xmlns="http://www.w3.org/2000/svg"
                                    >
                                        <path d="M1 1L10 10L19 1" stroke="#838383" strokeLinecap="round" />
                                    </svg>
                                )}
                                value={value}
                                onChange={(e) => onChange(e.target.value)}
                            >
                                {TypeTransaction.map((item, key) => (
                                    <Item value={item.value} key={key}>
                                        <BoxImage>
                                            <img src={item.image} alt={item.value} />
                                        </BoxImage>
                                        {item.value === 'Token' ? 'Crypto' : item.value}
                                    </Item>
                                ))}
                            </Select>
                        )}
                        name="transactionLinkType"
                        control={control}
                    />
                    {values.transactionLinkType === 'p2p' ? (
                        <P2PForm transactionType={transactionType} />
                    ) : (
                        <DefaultForm onNext={onNext} />
                    )}
                </Stack>
            </Box>
        </Box>
    );
};

export default Step1;
